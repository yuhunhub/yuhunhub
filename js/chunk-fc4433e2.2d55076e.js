(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fc4433e2"],{2155:function(t,e,a){"use strict";a("2a55")},"2a55":function(t,e,a){},"7ed4":function(t,e,a){"use strict";var i={props:{url:{type:String}},data:function(){return{isShow:!0}},methods:{onClick:function(){this.$open(this.url),this.isShow=!1}}};a=a("2877"),a=Object(a.a)(i,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return t.isShow?e("div",{staticStyle:{"z-index":"1000"}},[e("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[e("q-btn",{attrs:{color:"secondary"},on:{click:t.onClick}},[e("q-btn",{staticClass:"absolute-top-right",staticStyle:{"margin-top":"-5px","margin-right":"-5px"},attrs:{round:"",flat:"",size:"xs",color:"black"},on:{click:function(e){t.isShow=!1}}},[t._v(" x ")]),e("q-tooltip",[t._v(" 求支持！求三连！T_T ")]),e("i",{staticClass:"iconfont yuhunhub-bilibili q-mr-sm"}),t._v(" 观看本功能视频 ")],1)],1)],1):t._e()}),[],!1,null,null,null);e.a=a.exports},"818f":function(t,e,a){"use strict";a.r(e);var i=a("b85c"),r=a("1da1"),s=(a("b64b"),a("fb6a"),a("4e82"),a("96cf"),a("9ca8")),n=(a("313e"),a("9390"),a("15af"),a("1111"),a("f27d")),o=a("7ed4");s={components:{"v-chart":s.a,WatchVideoBtn:o.a},data:function(){return{isRendered:!1,yuhunList:null,data:null,option:null,yearList:[],timeMap:null,maxMap:{},year:null,isOnly15:!1,max:null,absMax:null}},watch:{year:function(){this.reload()},isOnly15:function(){this.prepareData(),this.reload()}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$yuhunList();case 2:t.yuhunList=e.sent,t.loadYearInfo(),t.prepareData(),t.reload();case 6:case"end":return e.stop()}}),e)})))()},methods:{loadYearInfo:function(){var t=(new Date).getFullYear();this.year=t;for(var e=2016;e<=t;e++)this.yearList.push(e)},prepareData:function(){var t,e={},a=Object(i.a)(this.yearList);try{for(a.s();!(t=a.n()).done;)e[t.value]={}}catch(t){a.e(t)}finally{a.f()}var r,s=Object(i.a)(this.yuhunList);try{for(s.s();!(r=s.n()).done;){var o,l,c,d,h=r.value;6!==h["御魂星级"]&&15!==h["御魂等级"]||this.isOnly15&&15!==h["御魂等级"]||(o=Object(n.a)(h),c=(l=this.$dayjs(o)).get("year"),d=l.format("YYYY-MM-DD"),e[c][d]?e[c][d]++:e[c][d]=1)}}catch(t){s.e(t)}finally{s.f()}this.absMax=null;var u,m=Object(i.a)(this.yearList);try{for(m.s();!(u=m.n()).done;){var p=u.value,y=[];this.maxMap[p]=null;for(var f=0,b=Object.keys(e[p]);f<b.length;f++){var v=b[f],x=[v,e[p][v]];y.push(x),(!this.maxMap[p]||this.maxMap[p][1]<x[1])&&(this.maxMap[p]=x),(!this.absMax||this.absMax<x[1])&&(this.absMax=x[1])}e[p]=y}}catch(t){m.e(t)}finally{m.f()}this.timeMap=e},reload:function(){this.handleData(),this.loadOption()},handleData:function(){this.data=this.timeMap[this.year],this.max=this.maxMap[this.year]||["",0]},loadOption:function(){var t={visualMap:{type:"continuous",show:!0,text:["历史最肝(".concat(this.absMax,"/天)"),"咸鱼"],textGap:20,realtime:!1,calculable:!0,range:[0,this.max[1]],min:0,max:100,top:60,right:0},title:{top:10,text:"".concat(this.year,"年肝力分布图"),subtext:"根据御魂入手日期生成",left:"center",textStyle:{color:"#c63545"}},tooltip:{trigger:"item",formatter:"{a}<br/>{c}个"},legend:{top:"30",left:"100",data:["获得御魂数","最肝的12天"],textStyle:{color:"#c63545"}},calendar:[{top:100,left:"center",range:["".concat(this.year,"-01-01"),"".concat(this.year,"-06-30")],splitLine:{show:!0,lineStyle:{color:"#000",width:4,type:"solid"}},yearLabel:{formatter:"上半年",textStyle:{color:"#c63545"},margin:60},dayLabel:{firstDay:1,nameMap:["周日","周一","周二","周三","周四","周五","周六"]},monthLabel:{nameMap:"cn",margin:10},itemStyle:{color:"#323c48",borderWidth:1,borderColor:"#111"}},{top:340,left:"center",range:["".concat(this.year,"-07-01"),"".concat(this.year,"-12-31")],splitLine:{show:!0,lineStyle:{color:"#000",width:4,type:"solid"}},yearLabel:{formatter:"下半年",textStyle:{color:"#c63545"},margin:60},dayLabel:{firstDay:1,nameMap:["周日","周一","周二","周三","周四","周五","周六"]},monthLabel:{nameMap:"cn",margin:10},itemStyle:{color:"#323c48",borderWidth:1,borderColor:"#111"}}],series:[{name:"获得御魂数",type:"scatter",coordinateSystem:"calendar",data:this.data,symbolSize:this.symbolSize,itemStyle:{color:"#ddb926"}},{name:"获得御魂数",type:"scatter",coordinateSystem:"calendar",calendarIndex:1,data:this.data,symbolSize:this.symbolSize,itemStyle:{color:"#ddb926"}},{name:"最肝的12天",type:"effectScatter",coordinateSystem:"calendar",calendarIndex:1,data:this.data.sort((function(t,e){return e[1]-t[1]})).slice(0,12),symbolSize:this.symbolSize,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,itemStyle:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"},zlevel:1},{name:"最肝的12天",type:"effectScatter",coordinateSystem:"calendar",data:this.data.sort((function(t,e){return e[1]-t[1]})).slice(0,12),symbolSize:this.symbolSize,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,itemStyle:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"},zlevel:1}]};this.option=t,0===this.data.length&&(this.isRendered=!0)},symbolSize:function(t){return t=t[1]/40*20,t<1?1:80<t?80:t}}},a("2155"),o=a("2877"),a=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"analysis"},replace:""}},[t._v(" 分析首页 ")]),a("el-breadcrumb-item",[t._v("全年肝力分布图")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:!1===t.isRendered,expression:"isRendered === false"}],staticClass:"gan-box"},[t.option?a("v-chart",{staticStyle:{width:"800px",height:"500px"},attrs:{options:t.option},on:{rendered:function(e){t.isRendered=!0}}}):t._e(),a("div",{staticClass:"flex-row flex-center"},[a("el-radio-group",{staticClass:"mr",attrs:{size:"mini"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},t._l(t.yearList,(function(e){return a("el-radio-button",{key:e,attrs:{label:e}},[t._v(" "+t._s(e)+" 年 ")])})),1),a("el-radio-group",{attrs:{size:"mini"},model:{value:t.isOnly15,callback:function(e){t.isOnly15=e},expression:"isOnly15"}},[a("el-radio-button",{attrs:{label:!1}},[t._v(" 统计全部御魂 ")]),a("el-radio-button",{attrs:{label:!0}},[t._v(" 只统计15级御魂 ")])],1)],1),a("div",{staticClass:"mt"},[t.max&&t.max[0]?a("el-alert",{attrs:{type:"success",closable:!1,"show-icon":""}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("今年获取最多御魂的一天是在 "),a("span",{staticClass:"bold big-font"},[t._v(t._s(t.max[0]))]),t._v("，一共出了 "),a("span",{staticClass:"bold big-font"},[t._v(t._s(t.max[1]))]),t._v(" 个御魂！ ")])]):t._e(),t.max&&!t.max[0]?a("el-alert",{attrs:{type:"error",closable:!1,"show-icon":""}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("你今年……没出过御魂。")])]):t._e()],1)],1),a("watch-video-btn",{attrs:{url:"https://www.bilibili.com/video/BV16K4y1h7pn"}})],1)}),[],!1,null,"00372f40",null);e.default=a.exports}}]);